{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst feedbackFormEl = document.querySelector('.feedback-form');\n\nconst LOCAL_KEY = 'feedback-form-state';\n\nconst formData = {\n  email: \"\",\n  message: \"\",\n}\n\nfeedbackFormEl.addEventListener('input', throttle(onSaveFeedback, 500));\nfeedbackFormEl.addEventListener('submit', onSubmitFeedbackForm);\n\nfunction onSaveFeedback(event) {\n  formData[event.target.name] = event.target.value;\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(formData));\n}\n\nfunction updateForm() {\n  const localStorageData = JSON.parse(localStorage.getItem(LOCAL_KEY));\n  if (localStorageData) {\n    feedbackFormEl.elements.email.value = localStorageData.email || '';\n    feedbackFormEl.elements.message.value = localStorageData.message || '';\n  }\n}\n\nupdateForm();\n\nfunction onSubmitFeedbackForm(event) {\n  if(!formData.email || !formData.message) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n  // console.log(JSON.parse(localStorage.getItem(LOCAL_KEY)));\n  localStorage.removeItem(LOCAL_KEY);\n  feedbackFormEl.reset();\n\n  formData.email = \"\";\n  formData.message = \"\";\n}"],"names":["feedbackFormEl","LOCAL_KEY","formData","throttle","onSaveFeedback","onSubmitFeedbackForm","event","updateForm","localStorageData"],"mappings":"oFAEA,MAAMA,EAAiB,SAAS,cAAc,gBAAgB,EAExDC,EAAY,sBAEZC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEAF,EAAe,iBAAiB,QAASG,EAASC,EAAgB,GAAG,CAAC,EACtEJ,EAAe,iBAAiB,SAAUK,CAAoB,EAE9D,SAASD,EAAeE,EAAO,CAC7BJ,EAASI,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3C,aAAa,QAAQL,EAAW,KAAK,UAAUC,CAAQ,CAAC,CAC1D,CAEA,SAASK,GAAa,CACpB,MAAMC,EAAmB,KAAK,MAAM,aAAa,QAAQP,CAAS,CAAC,EAC/DO,IACFR,EAAe,SAAS,MAAM,MAAQQ,EAAiB,OAAS,GAChER,EAAe,SAAS,QAAQ,MAAQQ,EAAiB,SAAW,GAExE,CAEAD,IAEA,SAASF,EAAqBC,EAAO,CACnC,GAAG,CAACJ,EAAS,OAAS,CAACA,EAAS,QAAS,CACvC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAWD,CAAS,EACjCD,EAAe,MAAK,EAEpBE,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB"}